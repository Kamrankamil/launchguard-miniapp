import{r as l,j as e,a7 as h,a8 as n}from"./index-CrAQh-3d.js";import{m as c,B as w}from"./BottomNav-BtwCjNBO.js";import{o as y}from"./index-BgPfJQQ8.js";import{G as v}from"./iconBase-C6BxjDlo.js";import{c as p}from"./users-21KfXYpc.js";import{A as N}from"./index-SQavSBzp.js";import{G as _}from"./gift-Cath7M49.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],C=p("check",k);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],R=p("copy",E);function S(r){return v({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M408 480H184a72 72 0 0 1-72-72V184a72 72 0 0 1 72-72h224a72 72 0 0 1 72 72v224a72 72 0 0 1-72 72z"},child:[]},{tag:"path",attr:{d:"M160 80h235.88A72.12 72.12 0 0 0 328 32H104a72 72 0 0 0-72 72v224a72.12 72.12 0 0 0 48 67.88V160a80 80 0 0 1 80-80z"},child:[]}]})(r)}const T=({message:r,show:t,onClose:s})=>(l.useEffect(()=>{if(t){const o=setTimeout(()=>s(),2e3);return()=>clearTimeout(o)}},[t,s]),t?e.jsx("div",{className:"fixed top-6 left-0 right-0 z-50 flex justify-center pointer-events-none","aria-live":"polite","aria-atomic":"true",children:e.jsxs("div",{className:`pointer-events-auto flex items-center gap-3 px-5 py-3 rounded-2xl border border-yellow-300/30 \r
        bg-gradient-to-br from-yellow-300 via-yellow-300/95 to-yellow-200/90 text-black \r
        shadow-[0_8px_30px_rgba(239,184,28,0.25)] backdrop-blur-sm font-semibold text-sm animate-toastDrop`,children:[e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-black/10",children:e.jsx(C,{className:"w-3.5 h-3.5"})}),r]})}):null);function B({open:r,onClose:t}){const[s,o]=l.useState(!1),i="https://buycex.com/signup?ref=waqas123",d=()=>{navigator.clipboard.writeText(i),o(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(N,{children:r&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center",children:[e.jsx(c.div,{initial:{opacity:0},animate:{opacity:.7},exit:{opacity:0},className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:t}),e.jsxs(c.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:220,damping:22},className:`relative w-full max-w-md rounded-3xl border border-gray-800/60 \r
              bg-gradient-to-br from-[#0B0C0E] via-[#121316] to-[#0E0F11] \r
              p-6 shadow-[0_0_15px_rgba(255,255,255,0.05)]`,children:[e.jsx("div",{className:"h-1.5 w-12 rounded-full bg-gray-600 mx-auto mb-6"}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-100 tracking-wide",children:"Invite Friends"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Choose how you’d like to invite your friend"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`flex items-center justify-center gap-3 w-full py-4 \r
                  rounded-xl font-semibold text-black \r
                  bg-gradient-to-r from-yellow-400 to-yellow-300\r
                  shadow-[0_0_20px_#facc15aa] hover:shadow-[0_0_30px_#facc15cc] \r
                  transition-all`,children:[e.jsx(y,{className:"text-black"}),"Send Invite"]}),e.jsxs(c.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,className:`flex items-center justify-center gap-3 w-full py-4 \r
                  rounded-xl font-semibold text-black \r
                  bg-gradient-to-r from-yellow-400 to-yellow-300\r
                  shadow-[0_0_20px_#facc15aa] hover:shadow-[0_0_30px_#facc15cc]\r
                  transition-all`,children:[e.jsx(S,{className:"text-black"}),"Copy Link"]})]}),e.jsx("button",{onClick:t,className:"mt-6 w-full text-center text-gray-500 text-sm hover:text-gray-300 transition",children:"Cancel"})]})]})}),e.jsx(T,{message:"Link copied!",show:s,onClose:()=>o(!1)})]})}function M(){const[r,t]=l.useState(!1),[s,o]=l.useState(""),[i,d]=l.useState({totalReward:0,friendsReferred:0}),f=s?`http://localhost:5173/referral?code=${s}`:"Connect wallet to get your link",u=()=>{if(!s)return n.error("Connect your wallet first");navigator.clipboard.writeText(f),n.success("Referral link copied!")},g=async x=>{try{const a=await h.get(`http://localhost:5000/api/referral-stats/${x}`);a.data.success&&d(a.data)}catch{}};return l.useEffect(()=>{(async()=>{const a="0x1234abcd5678ef90...";o(a),g(a)})()},[]),l.useEffect(()=>{const a=new URLSearchParams(window.location.search).get("code"),j=localStorage.getItem("joinedWallet");if(a&&!j){const m="0x9876efab4321abcd...";h.post("http://localhost:5000/api/wallet",{walletAddress:m,referrer:a}).then(b=>{b.data.success?(localStorage.setItem("joinedWallet",m),n.success("Joined successfully!")):n.error("Already joined or invalid referrer.")}).catch(b=>{n.error("Server error while joining")})}},[]),e.jsxs("div",{className:"min-h-screen max-w-sm mx-auto bg-black flex flex-col justify-between text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#1a1a1a] via-black to-black"}),e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[500px] h-[500px] bg-[#efb81c]/10 blur-[120px] rounded-full"}),e.jsxs("div",{className:"relative px-6 pt-10 pb-32",children:[e.jsx("h1",{className:"text-3xl font-semibold text-center mb-8 tracking-wide",children:"Build your network"}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-[#efb81c]/30 rounded-2xl p-5 flex items-center justify-between mb-10 shadow-[0_0_25px_rgba(239,184,28,0.2)]",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#efb81c] to-[#ffde70] font-semibold text-lg",children:"Earn BCX for every"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Coin your friend buys"})]}),e.jsx("div",{className:"bg-gradient-to-br from-[#efb81c] to-[#c99a16] p-3 rounded-xl shadow-[0_0_20px_rgba(239,184,28,0.4)]",children:e.jsx(_,{className:"text-black w-7 h-7"})})]}),e.jsxs("div",{className:"relative pl-6",children:[e.jsx("div",{className:"absolute left-3 top-3 bottom-6 w-[2px] bg-gradient-to-b from-[#efb81c]/70 to-transparent"}),e.jsxs("div",{className:"relative mb-10",children:[e.jsx("div",{className:"absolute -left-5 w-5 h-5 rounded-full bg-gradient-to-br from-[#efb81c] to-[#ffde70] shadow-[0_0_12px_rgba(239,184,28,0.8)]"}),e.jsxs("h2",{className:"font-semibold text-lg ml-3",children:["Earn"," ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#efb81c] to-[#ffde70]",children:"✕ BCX 0.01"})]}),e.jsx("p",{className:"text-gray-400 text-sm mt-1 ml-3",children:"For every friend who joins"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-5 w-5 h-5 rounded-full bg-gradient-to-br from-[#efb81c] to-[#ffde70] shadow-[0_0_12px_rgba(239,184,28,0.8)]"}),e.jsxs("h2",{className:"font-semibold text-lg ml-3",children:["Get Bonus"," ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#efb81c] to-[#ffde70]",children:"✕"})]}),e.jsx("p",{className:"text-gray-400 text-sm mt-1 ml-3",children:"For every friend your friend refers"})]})]}),e.jsxs("div",{className:"mt-10 bg-white/5 p-4 rounded-xl flex items-center justify-between border border-[#efb81c]/20",children:[e.jsx("span",{className:"truncate text-gray-300 text-xs",children:f}),e.jsx("button",{onClick:u,children:e.jsx(R,{className:"w-5 h-5 text-[#efb81c]"})})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("button",{onClick:()=>t(!0),className:"relative w-full bg-gradient-to-r from-[#efb81c] to-[#ffde70] text-black font-semibold py-3 rounded-lg overflow-hidden group shadow-[0_0_20px_rgba(239,184,28,0.4)] transition-transform duration-300 hover:scale-[1.02]",children:[e.jsx("span",{className:"relative z-10",children:"+ Invite a friend"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 ease-out"})]})}),e.jsx("div",{className:"mt-14 space-y-8",children:e.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-[#efb81c]/20 rounded-2xl p-5 shadow-[0_0_20px_rgba(239,184,28,0.15)]",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-[#efb81c]",children:"Referral Earnings"}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-gray-300",children:"Total Earned"}),e.jsxs("p",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#efb81c] to-[#ffde70] font-bold",children:[i.totalReward.toFixed(2)," BCX"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-300",children:"Friends Referred"}),e.jsx("p",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#efb81c] to-[#ffde70] font-bold",children:i.friendsReferred})]})]})})]}),e.jsx(w,{}),e.jsx(B,{open:r,onClose:()=>t(!1)})]})}export{M as default};
