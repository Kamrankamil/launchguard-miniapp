import{r as t,a as H,k as _,j as e,i as f,h as I}from"./index-DnpDLM2k.js";import{u as F}from"./useWeb3Functions-CEv1IrDl.js";import"./createPublicClient-C1riEoQb.js";import"./isAddressEqual-k2mYNk9N.js";import"./secp256k1-DJrMk0vv.js";function M({title:s,titleId:l,...n},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":l},n),s?t.createElement("title",{id:l},s):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const U=t.forwardRef(M);function W({title:s,titleId:l,...n},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":l},n),s?t.createElement("title",{id:l},s):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"}))}const P=t.forwardRef(W);function O({title:s,titleId:l,...n},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":l},n),s?t.createElement("title",{id:l},s):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const B=t.forwardRef(O);var V={};const Z=f?.saleToken?.[f?.chains?.[0]?.id??0]?.decimals??18,b=f?.presaleAddress??V.NEXT_PUBLIC_PRESALE_ADDRESS;function c(s){if(s===void 0)return"0";try{return Number(I(s,Z)).toLocaleString(void 0,{maximumFractionDigits:6})}catch{return"0"}}function $(s){return s?new Date(Number(s)*1e3).toLocaleString():"-"}const K=()=>{const{address:s,isConnected:l}=H(),{fetchClaimInfo:n,claimTokens:i,fetchIsUnlockingStarted:g}=F(),[r,p]=t.useState(""),[j,v]=t.useState(!1),[o,x]=t.useState(null),[w,N]=t.useState(!1),[y,C]=t.useState(null),[k,E]=t.useState(null),[m,A]=t.useState(null);t.useEffect(()=>{s&&!r&&p(s)},[s]),t.useEffect(()=>{(async()=>{if(!s){x(null);return}const a=await n();x(a)})()},[s,n]),t.useEffect(()=>{(async()=>{const a=await g();A(a)})()},[g]);const T=o?.totalBought??0n,R=o?.totalClaimed??0n,h=o?.remaining??0n,S=o?.claims??[],u=l&&!!s&&h>0n&&(m===null||m===!0)&&typeof r=="string"&&r.length>0&&_(r);async function L(){if(!u)return;N(!0),E(null),C(null);const{success:a,hash:d}=await i(r);if(N(!1),E(a??!1),d&&C(d),a){const X=await n();x(X)}}async function D(a){a&&(await navigator.clipboard.writeText(a),v(!0),setTimeout(()=>v(!1),1200))}return e.jsxs("div",{className:"relative min-h-screen w-full",children:[e.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10",children:[e.jsx("div",{className:"absolute inset-0 bg-[#070a12]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(1200px_600px_at_50%_-100px,rgba(239,184,28,0.16),transparent_60%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(1200px_600px_at_50%_120%,rgba(59,130,246,0.18),transparent_55%)]"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"})]}),e.jsx("div",{className:"mx-auto w-full max-w-5xl px-4 sm:px-6 lg:px-8 py-8 sm:py-10",children:e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-[#0A0E1A]/70 backdrop-blur-xl shadow-2xl ring-1 ring-black/5 p-5 sm:p-6 lg:p-7",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Claim BCX"}),e.jsx("div",{className:"text-xs text-gray-400",children:b?e.jsxs(e.Fragment,{children:["Contract:"," ",e.jsxs("span",{className:"font-mono",children:[b.slice(0,6),"…",b.slice(-4)]})]}):e.jsx("span",{className:"text-red-400",children:"Presale address not set"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"rounded-xl bg-[#101826]/70 border border-[#1f2b3c] p-5",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Total Bought"}),e.jsxs("div",{className:"text-2xl font-bold mt-1 text-white",children:[c(T)," BCX"]})]}),e.jsxs("div",{className:"rounded-xl bg-[#101826]/70 border border-[#1f2b3c] p-5",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Claimed"}),e.jsxs("div",{className:"text-2xl font-bold mt-1 text-white",children:[c(R)," BCX"]})]}),e.jsxs("div",{className:"rounded-xl bg-[#101826]/70 border border-[#1f2b3c] p-5",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Remaining"}),e.jsxs("div",{className:"text-2xl font-bold mt-1 text-white",children:[c(h)," BCX"]})]})]}),e.jsxs("div",{className:"rounded-xl bg-[#101826]/70 border border-[#1f2b3c] p-6 mb-6",children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Destination Wallet (will receive BCX)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{value:r,onChange:a=>p(a.target.value),placeholder:"0x...",className:"w-full rounded-lg bg-[#0d1522]/80 border border-[#1f2b3c] px-3 py-2 text-sm outline-none focus:border-yellow-400 text-white placeholder:text-white/40"}),e.jsx("button",{type:"button",onClick:()=>D(r),className:"px-3 rounded-lg bg-[#1b2533] border border-[#2a3a50] hover:bg-[#2a3a50]",title:j?"Copied!":"Copy address",children:e.jsx(P,{className:"h-5 w-5 text-white"})}),j&&e.jsx("span",{className:"self-center text-xs text-green-400",children:"Copied"})]}),!r||!_(r)?e.jsxs("div",{className:"mt-2 text-xs text-red-400 flex items-center gap-1",children:[e.jsx(B,{className:"h-4 w-4"}),"Enter a valid EVM address."]}):null,l?null:e.jsx("div",{className:"mt-2 text-xs text-yellow-400",children:"Connect your wallet to claim."}),m===!1&&e.jsx("div",{className:"mt-2 text-xs text-yellow-400",children:"Claiming hasn’t started yet."})]}),e.jsxs("div",{className:"rounded-xl bg-[#101826]/70 border border-[#1f2b3c] p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-300 text-sm",children:"You can claim"}),e.jsxs("div",{className:"text-3xl font-bold text-white",children:[c(h)," BCX"]})]}),e.jsx("button",{onClick:L,disabled:!u||w,className:`px-6 py-3 rounded-xl font-semibold transition shadow-lg
                  ${u?"bg-yellow-400 text-black hover:brightness-95":"bg-[#1b2533] text-gray-400 cursor-not-allowed"}
                `,children:w?"Claiming…":"Claim Now"})]}),y?e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsx("div",{className:"text-gray-400",children:"Tx Hash:"}),e.jsx("div",{className:"font-mono break-all text-white",children:y}),k?e.jsxs("div",{className:"mt-2 text-green-400 flex items-center gap-1",children:[e.jsx(U,{className:"h-5 w-5"}),"Claimed successfully."]}):k===!1?e.jsxs("div",{className:"mt-2 text-red-400 flex items-center gap-1",children:[e.jsx(B,{className:"h-5 w-5"}),"Transaction failed."]}):null]}):null]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Your Claim History"}),S.length===0?e.jsx("div",{className:"text-sm text-gray-400",children:"No claims yet."}):e.jsx("div",{className:"overflow-x-auto rounded-xl border border-[#1f2b3c]",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-[#0d1522] text-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-4 py-3",children:"Time"}),e.jsx("th",{className:"text-left px-4 py-3",children:"To"}),e.jsx("th",{className:"text-right px-4 py-3",children:"Amount (BCX)"})]})}),e.jsx("tbody",{children:S.slice().reverse().map((a,d)=>e.jsxs("tr",{className:"border-t border-[#1f2b3c]",children:[e.jsx("td",{className:"px-4 py-3 text-white",children:$(a.timestamp)}),e.jsxs("td",{className:"px-4 py-3 font-mono text-white",children:[a.to.slice(0,6),"…",a.to.slice(-4)]}),e.jsx("td",{className:"px-4 py-3 text-right font-semibold text-white",children:c(a.amount)})]},d))})]})})]}),e.jsx("div",{className:"mt-6 text-xs text-gray-400",children:"Tip: Remaining = Total Bought − Claimed. Enter a destination wallet (can be the same as your connected wallet) and press “Claim Now”."})]})})]})};export{K as default};
