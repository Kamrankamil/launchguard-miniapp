var De=e=>{throw TypeError(e)};var ge=(e,t,n)=>t.has(e)||De("Cannot "+n);var s=(e,t,n)=>(ge(e,t,"read from private field"),n?n.call(e):t.get(e)),x=(e,t,n)=>t.has(e)?De("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),v=(e,t,n,a)=>(ge(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),S=(e,t,n)=>(ge(e,t,"access private method"),n);import{aQ as ct,aR as qe,aS as q,aT as Re,aU as pe,aV as Pe,aW as Se,aX as Le,aY as lt,aZ as dt,a_ as pt,a$ as Qe,b0 as Ge,r as B,b1 as yt,b2 as Ye,b3 as fe,b4 as mt,b5 as Je,b6 as ht,b7 as be,ah as ft,b8 as Fe,b9 as bt,ba as Tt,bb as W,bc as Ze,bd as gt,be as wt,bf as vt,bg as et,bh as Ct,bi as Rt,bj as Pt,bk as St,bl as tt,bm as kt,a as nt,ad as xt,c as Ne,ac as Ot,h as se,bn as we,ak as L,bo as Mt,bp as At,bq as ve,br as ze,i as G,bs as We,bt as It,bu as Et,bv as _t,bw as Bt,bx as Ft}from"./index-CHbBw2KT.js";import{p as at,g as Ut,v as Dt,s as qt,a as Lt,c as Qt,b as Nt,w as zt,e as Wt,d as Ht,f as jt,h as $t,i as Xt,z as Q,j as Kt}from"./createPublicClient-HwNe07te.js";var _,m,ye,E,Y,re,N,H,me,ie,oe,J,Z,j,ue,T,de,ke,xe,Oe,Me,Ae,Ie,Ee,st,Ve,Vt=(Ve=class extends ct{constructor(t,n){super();x(this,T);x(this,_);x(this,m);x(this,ye);x(this,E);x(this,Y);x(this,re);x(this,N);x(this,H);x(this,me);x(this,ie);x(this,oe);x(this,J);x(this,Z);x(this,j);x(this,ue,new Set);this.options=n,v(this,_,t),v(this,H,null),v(this,N,qe()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(s(this,m).addObserver(this),He(s(this,m),this.options)?S(this,T,de).call(this):this.updateResult(),S(this,T,Me).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _e(s(this,m),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _e(s(this,m),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,S(this,T,Ae).call(this),S(this,T,Ie).call(this),s(this,m).removeObserver(this)}setOptions(t){const n=this.options,a=s(this,m);if(this.options=s(this,_).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof q(this.options.enabled,s(this,m))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");S(this,T,Ee).call(this),s(this,m).setOptions(this.options),n._defaulted&&!Re(this.options,n)&&s(this,_).getQueryCache().notify({type:"observerOptionsUpdated",query:s(this,m),observer:this});const i=this.hasListeners();i&&je(s(this,m),a,this.options,n)&&S(this,T,de).call(this),this.updateResult(),i&&(s(this,m)!==a||q(this.options.enabled,s(this,m))!==q(n.enabled,s(this,m))||pe(this.options.staleTime,s(this,m))!==pe(n.staleTime,s(this,m)))&&S(this,T,ke).call(this);const c=S(this,T,xe).call(this);i&&(s(this,m)!==a||q(this.options.enabled,s(this,m))!==q(n.enabled,s(this,m))||c!==s(this,j))&&S(this,T,Oe).call(this,c)}getOptimisticResult(t){const n=s(this,_).getQueryCache().build(s(this,_),t),a=this.createResult(n,t);return Yt(this,a)&&(v(this,E,a),v(this,re,this.options),v(this,Y,s(this,m).state)),a}getCurrentResult(){return s(this,E)}trackResult(t,n){return new Proxy(t,{get:(a,i)=>(this.trackProp(i),n?.(i),i==="promise"&&!this.options.experimental_prefetchInRender&&s(this,N).status==="pending"&&s(this,N).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(a,i))})}trackProp(t){s(this,ue).add(t)}getCurrentQuery(){return s(this,m)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=s(this,_).defaultQueryOptions(t),a=s(this,_).getQueryCache().build(s(this,_),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(t){return S(this,T,de).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),s(this,E)))}createResult(t,n){const a=s(this,m),i=this.options,c=s(this,E),l=s(this,Y),y=s(this,re),d=t!==a?t.state:s(this,ye),{state:C}=t;let b={...C},R=!1,p;if(n._optimisticResults){const M=this.hasListeners(),ne=!M&&He(t,n),z=M&&je(t,a,n,i);(ne||z)&&(b={...b,...pt(C.data,t.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:w,errorUpdatedAt:k,status:g}=b;p=b.data;let U=!1;if(n.placeholderData!==void 0&&p===void 0&&g==="pending"){let M;c?.isPlaceholderData&&n.placeholderData===y?.placeholderData?(M=c.data,U=!0):M=typeof n.placeholderData=="function"?n.placeholderData(s(this,oe)?.state.data,s(this,oe)):n.placeholderData,M!==void 0&&(g="success",p=Qe(c?.data,M,n),R=!0)}if(n.select&&p!==void 0&&!U)if(c&&p===l?.data&&n.select===s(this,me))p=s(this,ie);else try{v(this,me,n.select),p=n.select(p),p=Qe(c?.data,p,n),v(this,ie,p),v(this,H,null)}catch(M){v(this,H,M)}s(this,H)&&(w=s(this,H),p=s(this,ie),k=Date.now(),g="error");const A=b.fetchStatus==="fetching",ee=g==="pending",O=g==="error",te=ee&&A,ce=p!==void 0,F={status:g,fetchStatus:b.fetchStatus,isPending:ee,isSuccess:g==="success",isError:O,isInitialLoading:te,isLoading:te,data:p,dataUpdatedAt:b.dataUpdatedAt,error:w,errorUpdatedAt:k,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>d.dataUpdateCount||b.errorUpdateCount>d.errorUpdateCount,isFetching:A,isRefetching:A&&!ee,isLoadingError:O&&!ce,isPaused:b.fetchStatus==="paused",isPlaceholderData:R,isRefetchError:O&&ce,isStale:Ue(t,n),refetch:this.refetch,promise:s(this,N),isEnabled:q(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=ae=>{F.status==="error"?ae.reject(F.error):F.data!==void 0&&ae.resolve(F.data)},ne=()=>{const ae=v(this,N,F.promise=qe());M(ae)},z=s(this,N);switch(z.status){case"pending":t.queryHash===a.queryHash&&M(z);break;case"fulfilled":(F.status==="error"||F.data!==z.value)&&ne();break;case"rejected":(F.status!=="error"||F.error!==z.reason)&&ne();break}}return F}updateResult(){const t=s(this,E),n=this.createResult(s(this,m),this.options);if(v(this,Y,s(this,m).state),v(this,re,this.options),s(this,Y).data!==void 0&&v(this,oe,s(this,m)),Re(n,t))return;v(this,E,n);const a=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!s(this,ue).size)return!0;const l=new Set(c??s(this,ue));return this.options.throwOnError&&l.add("error"),Object.keys(s(this,E)).some(y=>{const u=y;return s(this,E)[u]!==t[u]&&l.has(u)})};S(this,T,st).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&S(this,T,Me).call(this)}},_=new WeakMap,m=new WeakMap,ye=new WeakMap,E=new WeakMap,Y=new WeakMap,re=new WeakMap,N=new WeakMap,H=new WeakMap,me=new WeakMap,ie=new WeakMap,oe=new WeakMap,J=new WeakMap,Z=new WeakMap,j=new WeakMap,ue=new WeakMap,T=new WeakSet,de=function(t){S(this,T,Ee).call(this);let n=s(this,m).fetch(this.options,t);return t?.throwOnError||(n=n.catch(Pe)),n},ke=function(){S(this,T,Ae).call(this);const t=pe(this.options.staleTime,s(this,m));if(Se||s(this,E).isStale||!Le(t))return;const a=lt(s(this,E).dataUpdatedAt,t)+1;v(this,J,setTimeout(()=>{s(this,E).isStale||this.updateResult()},a))},xe=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(s(this,m)):this.options.refetchInterval)??!1},Oe=function(t){S(this,T,Ie).call(this),v(this,j,t),!(Se||q(this.options.enabled,s(this,m))===!1||!Le(s(this,j))||s(this,j)===0)&&v(this,Z,setInterval(()=>{(this.options.refetchIntervalInBackground||dt.isFocused())&&S(this,T,de).call(this)},s(this,j)))},Me=function(){S(this,T,ke).call(this),S(this,T,Oe).call(this,S(this,T,xe).call(this))},Ae=function(){s(this,J)&&(clearTimeout(s(this,J)),v(this,J,void 0))},Ie=function(){s(this,Z)&&(clearInterval(s(this,Z)),v(this,Z,void 0))},Ee=function(){const t=s(this,_).getQueryCache().build(s(this,_),this.options);if(t===s(this,m))return;const n=s(this,m);v(this,m,t),v(this,ye,t.state),this.hasListeners()&&(n?.removeObserver(this),t.addObserver(this))},st=function(t){Ge.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(s(this,E))}),s(this,_).getQueryCache().notify({query:s(this,m),type:"observerResultsUpdated"})})},Ve);function Gt(e,t){return q(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function He(e,t){return Gt(e,t)||e.state.data!==void 0&&_e(e,t,t.refetchOnMount)}function _e(e,t,n){if(q(t.enabled,e)!==!1&&pe(t.staleTime,e)!=="static"){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&Ue(e,t)}return!1}function je(e,t,n,a){return(e!==t||q(a.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Ue(e,n)}function Ue(e,t){return q(t.enabled,e)!==!1&&e.isStaleByTime(pe(t.staleTime,e))}function Yt(e,t){return!Re(e.getCurrentResult(),t)}var rt=B.createContext(!1),Jt=()=>B.useContext(rt);rt.Provider;function Zt(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var en=B.createContext(Zt()),tn=()=>B.useContext(en),nn=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},an=e=>{B.useEffect(()=>{e.clearReset()},[e])},sn=({result:e,errorResetBoundary:t,throwOnError:n,query:a,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(i&&e.data===void 0||yt(n,[e.error,a])),rn=e=>{if(e.suspense){const t=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>t(n(...a)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},on=(e,t)=>e.isLoading&&e.isFetching&&!t,un=(e,t)=>e?.suspense&&t.isPending,$e=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function cn(e,t,n){const a=Jt(),i=tn(),c=Ye(),l=c.defaultQueryOptions(e);c.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=a?"isRestoring":"optimistic",rn(l),nn(l,i),an(i);const y=!c.getQueryCache().get(l.queryHash),[u]=B.useState(()=>new t(c,l)),d=u.getOptimisticResult(l),C=!a&&e.subscribed!==!1;if(B.useSyncExternalStore(B.useCallback(b=>{const R=C?u.subscribe(Ge.batchCalls(b)):Pe;return u.updateResult(),R},[u,C]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),B.useEffect(()=>{u.setOptions(l)},[l,u]),un(l,d))throw $e(l,u,i);if(sn({result:d,errorResetBoundary:i,throwOnError:l.throwOnError,query:c.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;return c.getDefaultOptions().queries?._experimental_afterQuery?.(l,d),l.experimental_prefetchInRender&&!Se&&on(d,a)&&(y?$e(l,u,i):c.getQueryCache().get(l.queryHash)?.promise)?.catch(Pe).finally(()=>{u.updateResult()}),l.notifyOnChangeProps?d:u.trackResult(d)}function ln(e,t){return cn(e,Vt)}async function dn(e,{chain:t}){const{id:n,name:a,nativeCurrency:i,rpcUrls:c,blockExplorers:l}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:fe(n),chainName:a,nativeCurrency:i,rpcUrls:c.default.http,blockExplorerUrls:l?Object.values(l).map(({url:y})=>y):void 0}]},{dedupe:!0,retryCount:0})}function pn(e,t){const{abi:n,args:a,bytecode:i,...c}=t,l=mt({abi:n,args:a,bytecode:i});return Je(e,{...c,...c.authorizationList?{to:null}:{},data:l})}async function yn(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(n=>ht(n))}async function mn(e,t={}){const{account:n=e.account,chainId:a}=t,i=n?be(n):void 0,c=a?[i?.address,[fe(a)]]:[i?.address],l=await e.request({method:"wallet_getCapabilities",params:c}),y={};for(const[u,d]of Object.entries(l)){y[Number(u)]={};for(let[C,b]of Object.entries(d))C==="addSubAccount"&&(C="unstable_addSubAccount"),y[Number(u)][C]=b}return typeof a=="number"?y[a]:y}async function hn(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function fn(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>ft(n))}async function bn(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function Tn(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function gn(e,t){const{account:n=e.account}=t;if(!n)throw new Fe({docsPath:"/docs/eip7702/signAuthorization"});const a=be(n);if(!a.signAuthorization)throw new bt({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:a.type});const i=await at(e,t);return a.signAuthorization(i)}async function wn(e,t){const{account:n=e.account,chain:a=e.chain,...i}=t;if(!n)throw new Fe({docsPath:"/docs/actions/wallet/signTransaction"});const c=be(n);Tt({account:c,...t});const l=await W(e,Ze,"getChainId")({});a!==null&&gt({currentChainId:l,chain:a});const u=(a?.formatters||e.chain?.formatters)?.transactionRequest?.format||wt;return c.signTransaction?c.signTransaction({...i,chainId:l},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...u(i),chainId:fe(l),from:c.address}]},{retryCount:0})}async function vn(e,t){const{account:n=e.account,domain:a,message:i,primaryType:c}=t;if(!n)throw new Fe({docsPath:"/docs/actions/wallet/signTypedData"});const l=be(n),y={EIP712Domain:Ut({domain:a}),...t.types};if(Dt({domain:a,message:i,primaryType:c,types:y}),l.signTypedData)return l.signTypedData({domain:a,message:i,primaryType:c,types:y});const u=qt({domain:a,message:i,primaryType:c,types:y});return e.request({method:"eth_signTypedData_v4",params:[l.address,u]},{retryCount:0})}async function Cn(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:fe(t)}]},{retryCount:0})}async function Rn(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function Pn({abi:e,address:t,client:n}){const a=n,[i,c]=a?"public"in a&&"wallet"in a?[a.public,a.wallet]:"public"in a?[a.public,void 0]:"wallet"in a?[void 0,a.wallet]:[a,a]:[void 0,void 0],l=i!=null,y=c!=null,u={};let d=!1,C=!1,b=!1;for(const R of e)if(R.type==="function"?R.stateMutability==="view"||R.stateMutability==="pure"?d=!0:C=!0:R.type==="event"&&(b=!0),d&&C&&b)break;return l&&(d&&(u.read=new Proxy({},{get(R,p){return(...w)=>{const{args:k,options:g}=he(w);return W(i,vt,"readContract")({abi:e,address:t,functionName:p,args:k,...g})}}})),C&&(u.simulate=new Proxy({},{get(R,p){return(...w)=>{const{args:k,options:g}=he(w);return W(i,Lt,"simulateContract")({abi:e,address:t,functionName:p,args:k,...g})}}})),b&&(u.createEventFilter=new Proxy({},{get(R,p){return(...w)=>{const k=e.find(A=>A.type==="event"&&A.name===p),{args:g,options:U}=Ce(w,k);return W(i,Qt,"createContractEventFilter")({abi:e,address:t,eventName:p,args:g,...U})}}}),u.getEvents=new Proxy({},{get(R,p){return(...w)=>{const k=e.find(A=>A.type==="event"&&A.name===p),{args:g,options:U}=Ce(w,k);return W(i,Nt,"getContractEvents")({abi:e,address:t,eventName:p,args:g,...U})}}}),u.watchEvent=new Proxy({},{get(R,p){return(...w)=>{const k=e.find(A=>A.type==="event"&&A.name===p),{args:g,options:U}=Ce(w,k);return W(i,zt,"watchContractEvent")({abi:e,address:t,eventName:p,args:g,...U})}}}))),y&&C&&(u.write=new Proxy({},{get(R,p){return(...w)=>{const{args:k,options:g}=he(w);return W(c,et,"writeContract")({abi:e,address:t,functionName:p,args:k,...g})}}})),(l||y)&&C&&(u.estimateGas=new Proxy({},{get(R,p){return(...w)=>{const{args:k,options:g}=he(w);return W(i??c,Wt,"estimateContractGas")({abi:e,address:t,functionName:p,args:k,...g,account:g.account??c.account})}}})),u.address=t,u.abi=e,u}function he(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],a=(t?e[1]:e[0])??{};return{args:n,options:a}}function Ce(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(c=>c.indexed):e.length===2&&(n=!0);const a=n?e[0]:void 0,i=(n?e[1]:e[0])??{};return{args:a,options:i}}function Sn(e){return{addChain:t=>dn(e,t),deployContract:t=>pn(e,t),getAddresses:()=>yn(e),getCallsStatus:t=>$t(e,t),getCapabilities:t=>mn(e,t),getChainId:()=>Ze(e),getPermissions:()=>hn(e),prepareAuthorization:t=>at(e,t),prepareTransactionRequest:t=>Pt(e,t),requestAddresses:()=>fn(e),requestPermissions:t=>bn(e,t),sendCalls:t=>jt(e,t),sendRawTransaction:t=>Rt(e,t),sendTransaction:t=>Je(e,t),showCallsStatus:t=>Tn(e,t),signAuthorization:t=>gn(e,t),signMessage:t=>Ct(e,t),signTransaction:t=>wn(e,t),signTypedData:t=>vn(e,t),switchChain:t=>Cn(e,t),waitForCallsStatus:t=>Ht(e,t),watchAsset:t=>Rn(e,t),writeContract:t=>et(e,t)}}function kn(e,t={}){try{return e.getClient(t)}catch{return}}function Be(e,t={}){return kn(e,t)?.extend(Xt)}async function xn(e,t={}){return(await St(e,t)).extend(Sn)}function On(e,t){const{onChange:n}=t;return e.subscribe(()=>Be(e),n,{equalityFn(a,i){return a?.uid===i?.uid}})}function Mn(e){return JSON.stringify(e,(t,n)=>An(n)?Object.keys(n).sort().reduce((a,i)=>(a[i]=n[i],a),{}):typeof n=="bigint"?n.toString():n)}function An(e){if(!Xe(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!Xe(n)||!n.hasOwnProperty("isPrototypeOf"))}function Xe(e){return Object.prototype.toString.call(e)==="[object Object]"}function In(e){const{_defaulted:t,behavior:n,gcTime:a,initialData:i,initialDataUpdatedAt:c,maxPages:l,meta:y,networkMode:u,queryFn:d,queryHash:C,queryKey:b,queryKeyHashFn:R,retry:p,retryDelay:w,structuralSharing:k,getPreviousPageParam:g,getNextPageParam:U,initialPageParam:A,_optimisticResults:ee,enabled:O,notifyOnChangeProps:te,placeholderData:ce,refetchInterval:Te,refetchIntervalInBackground:F,refetchOnMount:M,refetchOnReconnect:ne,refetchOnWindowFocus:z,retryOnMount:ae,select:it,staleTime:ot,suspense:o,throwOnError:r,config:h,connector:f,query:P,...D}=e;return D}function En(e,t={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:a}=t,{connectorUid:i,scopeKey:c,...l}=n[1];return xn(e,{...l,connector:a})},queryKey:_n(t)}}function _n(e={}){const{connector:t,...n}=e;return["walletClient",{...In(n),connectorUid:t?.uid}]}function Bn(e){const t=ln({...e,queryKeyHashFn:Mn});return t.queryKey=e.queryKey,t}function Ke(e={}){const t=tt(e);return kt.useSyncExternalStoreWithSelector(n=>On(t,{onChange:n}),()=>Be(t,e),()=>Be(t,e),n=>n,(n,a)=>n?.uid===a?.uid)}function Fn(e={}){const{query:t={},...n}=e,a=tt(n),i=Ye(),{address:c,connector:l,status:y}=nt({config:a}),u=xt({config:a}),d=e.connector??l,{queryKey:C,...b}=En(a,{...e,chainId:e.chainId??u,connector:e.connector??l}),R=!!((y==="connected"||y==="reconnecting"&&d?.getProvider)&&(t.enabled??!0)),p=B.useRef(c);return B.useEffect(()=>{const w=p.current;!c&&w?(i.removeQueries({queryKey:C}),p.current=void 0):c!==w&&(i.invalidateQueries({queryKey:C}),p.current=c)},[c,i]),Bn({...t,...b,queryKey:C,enabled:R,staleTime:Number.POSITIVE_INFINITY})}const Un=[{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_referrer",type:"address"}],name:"buyToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"buyer",type:"address"}],name:"markAsDelivered",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner_",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"SafeERC20FailedOperation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Claimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ETHWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"minBuy",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxBuy",type:"uint256"}],name:"LimitsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"status",type:"bool"}],name:"PresaleToggled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!0,internalType:"address",name:"payToken",type:"address"},{indexed:!1,internalType:"uint256",name:"amountPaid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bcxAmount",type:"uint256"}],name:"Purchased",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newRate",type:"uint256"}],name:"RateSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"referrer",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"ReferralUsed",type:"event"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"removeWhitelistToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_min",type:"uint256"},{internalType:"uint256",name:"_max",type:"uint256"}],name:"setMinMax",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"}],name:"setRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_totalTokensforSale",type:"uint256"}],name:"setSaleTokenParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"startUnlocking",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stopUnlocking",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"status",type:"bool"}],name:"togglePresale",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"TokenRemovedFromWhitelist",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"pricePerBCX",type:"uint256"}],name:"TokenWhitelisted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TokenWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newTotal",type:"uint256"}],name:"TotalTokensForSaleSet",type:"event"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isUnlocking",type:"bool"}],name:"UnlockingStatusSet",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"pricePerBCX",type:"uint256"}],name:"whitelistToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawETH",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"withdrawToken",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allClaims",outputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allPurchases",outputs:[{internalType:"address",name:"buyer",type:"address"},{internalType:"address",name:"payToken",type:"address"},{internalType:"uint256",name:"amountPaid",type:"uint256"},{internalType:"uint256",name:"bcxReceived",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bool",name:"isReferralReward",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"BPS_DENOMINATOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"claimedBCX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllClaims",outputs:[{components:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct BCXPresaleNative.ClaimRecord[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllPurchases",outputs:[{components:[{internalType:"address",name:"buyer",type:"address"},{internalType:"address",name:"payToken",type:"address"},{internalType:"uint256",name:"amountPaid",type:"uint256"},{internalType:"uint256",name:"bcxReceived",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bool",name:"isReferralReward",type:"bool"}],internalType:"struct BCXPresaleNative.PurchaseRecord[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getReferralStats",outputs:[{internalType:"uint256",name:"referredCount",type:"uint256"},{internalType:"uint256",name:"totalEarnings",type:"uint256"},{internalType:"address[]",name:"referredAddresses",type:"address[]"},{internalType:"uint256[]",name:"bcxBoughtByEach",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getTokenAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserClaimInfo",outputs:[{internalType:"uint256",name:"totalBought",type:"uint256"},{internalType:"uint256",name:"totalClaimed",type:"uint256"},{internalType:"uint256",name:"remaining",type:"uint256"},{components:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct BCXPresaleNative.ClaimRecord[]",name:"claims",type:"tuple[]"},{components:[{internalType:"address",name:"buyer",type:"address"},{internalType:"address",name:"payToken",type:"address"},{internalType:"uint256",name:"amountPaid",type:"uint256"},{internalType:"uint256",name:"bcxReceived",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bool",name:"isReferralReward",type:"bool"}],internalType:"struct BCXPresaleNative.PurchaseRecord[]",name:"purchases",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserClaimsLog",outputs:[{components:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct BCXPresaleNative.ClaimRecord[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserPurchases",outputs:[{components:[{internalType:"address",name:"buyer",type:"address"},{internalType:"address",name:"payToken",type:"address"},{internalType:"uint256",name:"amountPaid",type:"uint256"},{internalType:"uint256",name:"bcxReceived",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bool",name:"isReferralReward",type:"bool"}],internalType:"struct BCXPresaleNative.PurchaseRecord[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserTotals",outputs:[{internalType:"uint256",name:"totalBought",type:"uint256"},{internalType:"uint256",name:"totalClaimed",type:"uint256"},{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isDelivered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isPresaleActive",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isUnlockingStarted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxBuyLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minBuyLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"rate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REFERRAL_BPS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"referralEarnings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"referredUsers",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"referrerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tokenPrices",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tokenWL",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"totalReferredUsers",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalTokensforSale",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalTokensSold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userBCXAllocation",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userClaims",outputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userPurchases",outputs:[{internalType:"address",name:"buyer",type:"address"},{internalType:"address",name:"payToken",type:"address"},{internalType:"uint256",name:"amountPaid",type:"uint256"},{internalType:"uint256",name:"bcxReceived",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bool",name:"isReferralReward",type:"bool"}],stateMutability:"view",type:"function"}],V=Kt({chain:G.chains[0],batch:{multicall:!0},transport:Bt()}),Qn=()=>{const e=Ne(o=>o.presale.chainId),n=Ke()??V,[a,i]=B.useState(!1),c=Ne(o=>o.presale.tokens),l=Ot();Ke();const{data:y}=Fn(),{address:u}=nt(),d=B.useMemo(()=>Pn({address:G.presaleContract[e],abi:Un,client:{public:V,wallet:y??void 0}}),[y,e]),C=async()=>{i(!0);const[o,r]=await Promise.all([d.read.totalTokensSold(),d.read.totalTokensforSale(),k()]);l(We(+O(o))),l(It(+O(r))),i(!1)},b=async()=>{const[o,r]=await Promise.all([d.read.minBuyLimit(),d.read.maxBuyLimit()]);l(Mt(+O(o))),l(At(+O(r)))},R=async()=>{const o=await d.read.totalTokensSold();return l(We(+O(o))),o},p=async()=>{if(!u)return;const{symbol:o,decimals:r}=G.saleToken[e],h=await d.read.userBCXAllocation([u]),f=+se(h,r);return l(ze({symbol:o,balance:f})),f},w=async()=>{if(u)for await(const o of c[e]){let r;o.address?r=await V.readContract({address:o.address,abi:ve,functionName:"balanceOf",args:[u]}):r=await n.getBalance({address:u}),l(ze({symbol:o.symbol,balance:+se(r,o.decimals)}))}},k=async()=>{for await(const o of c[e]){const r=o.address?await d.read.tokenPrices([o.address]):await d.read.rate();l(Ft({symbol:o.symbol,price:+se(r,o.decimals)}))}},g=async(o,r,h)=>{if(!o.address||!y)return;const f=await V.readContract({address:o.address,abi:ve,functionName:"allowance",args:[r,h]});if(!Number(f)){const P=await y.writeContract({address:o.address,abi:ve,functionName:"approve",args:[h,we("9999999999999999999999999999",18)]});await V.waitForTransactionReceipt({hash:P}),L.success("Spend approved")}},U=async(o,r)=>{let h=!1;if(!u||!y)return{success:h};i(!0);try{const f=we(`${o}`,r.decimals),P=localStorage.getItem("referrer")?.toLowerCase()===u.toLowerCase()?Q:localStorage.getItem("referrer")||Q;let D;if(r.address){await g(r,u,G.presaleContract[e]);const{request:K}=await d.simulate.buyToken([r.address,f,P],{account:u});D=await y.writeContract(K)}else{const{request:K}=await d.simulate.buyToken([Q,f,P],{account:u,value:f});D=await y.writeContract(K)}await V.waitForTransactionReceipt({hash:D});const $=await d.read.getTokenAmount([r.address||Q,f]);Et({wallet_address:u,purchased_amount:+O($),paid_amount:o,transaction_hash:D,paid_with:r.symbol});const X=await d.read.getReferralStats([P]),le=[...X[2]],I=X[3].map(K=>O(K));_t({purchased_amount:+O($),paid:o,transaction_hash:D,payable_token:r.symbol,referrer:P,referred_addresses:le,bcx_by_each:I}),w(),p(),R(),L.success(`You have successfully purchased $${G.saleToken[e].symbol} Tokens.`),h=!0}catch(f){f?.error?.code===-32603&&f?.error?.message.includes("reverted")?L.error(f.error.message?.replace("execution reverted:","")):L.error("Signing failed, please try again!")}return i(!1),{success:h}},A=async o=>{if(!(!o.address||!y))try{await y.watchAsset({type:"ERC20",options:{address:o.address,symbol:o.symbol,decimals:o.decimals??18,image:o.image.includes("http")?o.image:`${window.location.origin}${o.image}`}}),L.success("Token imported to metamask successfully")}catch{L.error("Token import failed")}},ee=o=>we(`${o}`,G.saleToken[e].decimals),O=o=>se(o,G.saleToken[e].decimals),te=async()=>{if(!u)return[];try{return(await d.read.getUserPurchases([u])).map(r=>({amount:BigInt(r.bcxReceived??0n),paidAmount:BigInt(r.amountPaid??0n),token:r.payToken??Q,timestamp:Number(r.timestamp??0),isReferralReward:!!r.isReferralReward,txHash:""}))}catch{return[]}},ce=o=>{const r=Number(o);return r>=15e22?8:r>=1e23?7:r>=5e22?6:r>=1e22?5:r>=1e21?4:1},Te=async()=>{try{const o=await d.read.getAllPurchases(),r={};return o.forEach(h=>{const f=h.buyer,P=BigInt(h.bcxReceived??0);r[f]=(r[f]||0n)+P}),Object.entries(r).map(([h,f])=>({address:h,total:f,level:ce(f)})).sort((h,f)=>Number(f.total-h.total))}catch{return[]}},F=B.useMemo(()=>{const o={};for(const r of c[e]){const h=(r.address??Q).toLowerCase();o[h]=r}return o},[c,e]),M=new Set(["USDT","USDC","BUSD"]);return{loading:a,parse:ee,format:O,buyToken:U,addTokenAsset:A,fetchIntialData:C,fetchLockedBalance:p,fetchTokenBalances:w,fetchMinMaxBuyLimits:b,fetchUserPurchases:te,fetchLeaderboardFromAllPurchases:Te,fetchLiveOrdersFromPurchases:async()=>{try{return(await d.read.getAllPurchases()).filter(r=>!r.isReferralReward).map((r,h)=>{const f=(r.payToken??Q).toLowerCase(),P=F[f]??{symbol:"BNB",decimals:18,image:"",address:void 0},D=BigInt(r.amountPaid??0),$=BigInt(r.bcxReceived??0),X=se(D,P.decimals),le=$===0n?0n:D*10n**18n/$,I=se(le,P.decimals),K=M.has(P.symbol)?`$${Number(I).toFixed(2)}`:`${I} ${P.symbol}`,ut=M.has(P.symbol)?`$${Number(X).toFixed(2)}`:`${X} ${P.symbol}`;return{id:h+1,price:K,amount:ut,time:Number(r.timestamp??0),currency:P.symbol}}).reverse()}catch{return[]}},fetchReferralStats:async()=>{if(!u)return null;try{const[o,r,h,f]=await d.read.getReferralStats([u]);return{referredCount:Number(o),totalEarnings:O(r),referredAddresses:[...h],bcxBoughtByEach:[...f].map(P=>O(P))}}catch{return null}},fetchClaimInfo:async()=>{if(!u)return null;const o=async()=>{const[r,h]=await Promise.all([d.read.userBCXAllocation([u]),d.read.claimedBCX([u])]),f=r>h?r-h:0n;return{totalBought:r,totalClaimed:h,remaining:f,claims:[],purchases:await te()}};try{const r=await d.read.getUserClaimInfo([u]),h=r[0]??0n,f=r[1]??0n,P=r[2]??0n,D=r[3]??[],$=r[4]??[],X=D.map(I=>({user:I.user,to:I.to,amount:BigInt(I.amount??0),timestamp:BigInt(I.timestamp??0)})),le=$.map(I=>({amount:BigInt(I.bcxReceived??0n),paidAmount:BigInt(I.amountPaid??0n),token:I.payToken??Q,timestamp:Number(I.timestamp??0),isReferralReward:!!I.isReferralReward,txHash:""}));return{totalBought:h,totalClaimed:f,remaining:P,claims:X,purchases:le}}catch{return await o()}},claimTokens:async o=>{let r=!1;if(!u||!y)return{success:r};try{if(!o||o===Q)return L.error("Invalid destination wallet"),{success:r};const{request:h}=await d.simulate.claim([o],{account:u}),f=await y.writeContract(h);return await V.waitForTransactionReceipt({hash:f}),await Promise.all([p(),R()]),L.success("Claim submitted successfully."),r=!0,{success:r,hash:f}}catch(h){return h?.error?.code===-32603&&h?.error?.message?.includes("reverted")?L.error(h.error.message.replace("execution reverted:","").trim()):L.error("Claim failed, please try again."),{success:!1}}},fetchIsUnlockingStarted:async()=>{try{return!!await d.read.isUnlockingStarted()}catch{return!1}}}};export{Qn as u};
