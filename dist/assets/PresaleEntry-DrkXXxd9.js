import{u as h,a as w,b as y,r as n,j as e}from"./index-CrAQh-3d.js";import{b as T}from"./BUYCEX-INFINITY-CHMr8MU4.js";const E=()=>{const l=h(),{open:u}=w(),{isConnected:i,address:c}=y(),[d,b]=n.useState(null),[s,p]=n.useState(!1);return n.useEffect(()=>{let a=null;const m=new AbortController,o=()=>{const g=window.Telegram?.WebApp,r=g?.initDataUnsafe?.user,x=g?.initData;if(r){b(r),p(!0),localStorage.setItem("telegramUser",JSON.stringify(r)),a=window.setTimeout(()=>{l("/boost",{replace:!0})},2e3);const f=`${window.location.protocol}//110.38.69.202:5000/api/telegram-login`;fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({initData:x}),signal:m.signal}).then(t=>t.json()).then(t=>{t.success}).catch(t=>{t.name})}};return window.Telegram?.WebApp?.initDataUnsafe?.user?o():window.Telegram?.WebApp?.onEvent?.("ready",o),()=>{a&&clearTimeout(a),m.abort(),window.Telegram?.WebApp?.offEvent?.("ready",o)}},[l]),e.jsx("div",{className:"flex h-screen items-center justify-center bg-black text-white",children:e.jsxs("div",{className:"w-[90%] max-w-md rounded-lg border border-white/10 bg-black/40 p-8 text-center backdrop-blur-lg shadow-lg",children:[e.jsx("img",{src:T,alt:"Buycex Logo",className:"mx-auto mb-6 h-14 w-auto"}),e.jsx("h1",{className:"mb-2 text-4xl font-bold text-yellow-400",children:"Enter The Buycex Presale"}),e.jsx("p",{className:"mb-6 text-lg text-white/80",children:s&&d?`Welcome ${d.first_name}! Telegram login successful âœ… Redirecting...`:"To join the presale, connect your wallet or open via Telegram."}),e.jsx("hr",{className:"border-t border-white/10 my-4"}),!s&&!i&&e.jsx("button",{onClick:()=>u(),className:"px-6 py-2 bg-gradient-to-r from-yellow-400 to-[#1a1b2f] text-white rounded font-semibold hover:opacity-90 transition",children:"Connect Wallet"}),!s&&i&&e.jsxs("p",{className:"text-green-400 mt-2",children:["Connected as ",c?.slice(0,6),"...",c?.slice(-4)]})]})})};export{E as default};
