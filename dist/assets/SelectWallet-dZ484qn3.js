import{a9 as B,F as y,r as i,aa as W,a6 as F,a as g,b as w,j as e,ab as I}from"./index-CrAQh-3d.js";import{o as M,j as A}from"./index-BgPfJQQ8.js";import{m as u}from"./BottomNav-BtwCjNBO.js";import{u as D}from"./useChainId-DeWfnGIA.js";import{u as O}from"./useSwitchChain-BMTB7mrN.js";import{A as R}from"./index-SQavSBzp.js";let x=[];function b(s){const t=s.connectors;return x.map(a=>a.uid)===t.map(a=>a.uid)?x:(x=t,t)}function T(s){return{mutationFn(t){return B(s,t)},mutationKey:["connect"]}}function H(s={}){const t=y(s);return i.useSyncExternalStore(a=>W(t,{onChange:a}),()=>b(t),()=>b(t))}function L(s={}){const{mutation:t}=s,a=y(s),o=T(a),{mutate:l,mutateAsync:m,...c}=F({...t,...o});return i.useEffect(()=>a.subscribe(({status:r})=>r,(r,d)=>{d==="connected"&&r==="disconnected"&&c.reset()}),[a,c.reset]),{...c,connect:l,connectAsync:m,connectors:H({config:a})}}const X="/assets/BUYCEX-INFINITY-DWkkcVQj.png",$=({onCloseSidebar:s,className:t=""})=>{const{open:a}=g(),{address:o,isConnected:l}=w(),m=()=>{a(),s&&s()};return e.jsx(u.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:m,className:`flex items-center justify-center gap-3 w-full py-4 
        rounded-xl font-semibold text-black 
        bg-gradient-to-r from-yellow-400 to-yellow-300
        shadow-[0_0_20px_#facc15aa] hover:shadow-[0_0_30px_#facc15cc] 
        transition-all ${t}`,children:l?e.jsxs("span",{children:[o?.slice(0,6),"...",o?.slice(-6)]}):e.jsx("span",{children:"Connect Wallet"})})};function q({open:s,onClose:t}){g();const[a,o]=i.useState(!1),[l,m]=i.useState("BNB Chain"),[c,r]=i.useState(!1),d=i.useRef(null),{address:z,isConnected:j}=w(),{connect:v,connectors:N,pendingConnector:C}=L(),{disconnect:k}=I(),f=D(),{switchChain:h}=O();i.useEffect(()=>{function n(p){d.current&&!d.current.contains(p.target)&&r(!1)}return document.addEventListener("click",n),()=>document.removeEventListener("click",n)},[]);function _(){r(!1),t()}async function E(){try{await k(),t()}catch{}}async function S(n){if(h)try{await h({chainId:n}),t()}catch{}}return e.jsx(R,{children:s&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center",children:[e.jsx(u.div,{initial:{opacity:0},animate:{opacity:.7},exit:{opacity:0},className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:t}),e.jsxs(u.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:220,damping:22},className:`relative w-full max-w-md rounded-3xl border border-gray-800/60 \r
              bg-gradient-to-br from-[#0B0C0E] via-[#121316] to-[#0E0F11] \r
              p-6 shadow-[0_0_15px_rgba(255,255,255,0.05)]`,children:[e.jsx("div",{className:"h-1.5 w-12 rounded-full bg-gray-600 mx-auto mb-6"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-100 tracking-wide",children:"Wallet"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Connect or manage your wallet"})]}),j?e.jsx("div",{className:"mb-4 p-4 rounded-xl bg-white/5 border border-gray-700",children:e.jsx("div",{className:"flex items-center justify-between gap-2 text-gray-300 text-sm mb-2",children:e.jsx($,{})})}):e.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-white/5 border border-gray-700",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Connect a wallet"}),e.jsx("div",{className:"space-y-2",children:N.map(n=>e.jsxs("button",{onClick:()=>v({connector:n}),disabled:!n.ready,className:"w-full text-left px-4 py-3 rounded-xl bg-black/30 border border-gray-700 flex items-center justify-between",children:[e.jsx("span",{children:n.name}),e.jsx("span",{className:"text-xs text-gray-400",children:n.ready?C?.id===n.id?"Connectingâ€¦":"":"Unsupported"})]},n.id))})]}),e.jsxs("div",{className:"mb-6",ref:d,children:[e.jsx("div",{className:"flex items-center justify-between gap-2 text-gray-300 text-sm mb-2",children:e.jsx("div",{className:"text-gray-300 text-sm",children:"Network"})}),e.jsxs("button",{type:"button",onClick:()=>r(n=>!n),className:"flex items-center justify-between w-full px-4 py-3 rounded-xl bg-black/30 border border-gray-700","aria-haspopup":"true","aria-expanded":c,children:[e.jsx("span",{className:"text-sm text-gray-100",children:f?`Chain: ${f}`:"Select chain"}),e.jsx("svg",{className:`h-4 w-4 transform transition-transform ${c?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"})})]}),c&&e.jsx("div",{className:"mt-2 rounded-xl bg-[#0B0C0E] border border-gray-700 shadow-lg overflow-hidden",children:[56,1,97].map(n=>e.jsx("button",{onClick:()=>S(n),className:"w-full text-left px-4 py-3 hover:bg-gray-800",children:n===56?"BNB Chain":n===1?"ETH Chain":"BNB testnet"},n))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(u.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:_,className:`flex items-center justify-center gap-3 w-full py-4 \r
      rounded-xl font-semibold text-black \r
      bg-gradient-to-r from-yellow-400 to-yellow-300\r
      shadow-[0_0_20px_#facc15aa] hover:shadow-[0_0_30px_#facc15cc] \r
      transition-all`,children:[e.jsx(M,{className:"text-black"}),"Continue with ",l]}),e.jsxs(u.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:E,className:`flex items-center justify-center gap-3 w-full py-4 \r
      rounded-xl font-semibold text-white \r
      bg-red-600 shadow-[0_0_20px_rgba(255,0,0,0.5)] hover:shadow-[0_0_30px_rgba(255,0,0,0.7)] \r
      transition-all`,children:[e.jsx(A,{className:"w-4 h-4"}),"Disconnect"]})]}),e.jsx("button",{onClick:t,className:"mb-16 mt-6 w-full text-center text-gray-500 text-sm hover:text-gray-300 transition",children:"Cancel"})]})]})})}export{q as S,X as b};
